---
- name: Check if jrnl is installed
  ansible.builtin.command: "command -v jrnl"
  register: jrnl_check
  ignore_errors: true
  changed_when: false

- name: Install jrnl with uv
  ansible.builtin.command: "uv tool install jrnl"
  when: jrnl_check.rc != 0

- name: Copy jrnl config file
  ansible.builtin.copy:
    src: "jrnl.yaml"
    dest: "{{ dotfiles_user_home}}/.config/jrnl/jrnl.yaml"
